"function"!=typeof Object.create&&(Object.create=function(a){function b(){}return b.prototype=a,new b}),function(a,b,c,d){var e={init:function(b,c){function f(){var a=(new Date).getTime(),b="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(b){var c=(a+16*Math.random())%16|0;return a=Math.floor(a/16),("x"==b?c:3&c|8).toString(16)});return b}var e,d=this;d.elem=c,d.$elem=a(c),d.options=a.extend({},a.fn.ezPlus.options,d.responsiveConfig(b||{})),d.imageSrc=d.$elem.data(d.options.attrImageZoomSrc)?d.$elem.data(d.options.attrImageZoomSrc):d.$elem.attr("src"),d.options.enabled&&(d.options.tint&&(d.options.lensColour="transparent",d.options.lensOpacity="1"),"inner"===d.options.zoomType&&(d.options.showLens=!1),"lens"===d.options.zoomType&&(d.options.zoomWindowWidth=0),-1===d.options.zoomId&&(d.options.zoomId=f()),d.$elem.parent().removeAttr("title").removeAttr("alt"),d.zoomImage=d.imageSrc,d.refresh(1),e=a(d.options.gallery?"#"+d.options.gallery:d.options.gallerySelector),e.on("click.zoom",d.options.galleryItem,function(b){return d.options.galleryActiveClass&&(a(d.options.galleryItem,e).removeClass(d.options.galleryActiveClass),a(this).addClass(d.options.galleryActiveClass)),"A"===this.tagName&&b.preventDefault(),a(this).data(d.options.attrImageZoomSrc)?d.zoomImagePre=a(this).data(d.options.attrImageZoomSrc):d.zoomImagePre=a(this).data("image"),d.swaptheimage(a(this).data("image"),d.zoomImagePre),"A"===this.tagName?!1:void 0}))},refresh:function(a){var b=this;setTimeout(function(){b.fetch(b.imageSrc,b.$elem,b.options.minZoomLevel)},a||b.options.refresh)},fetch:function(a,b,c){var d=this,e=new Image;e.onload=function(){e.width/b.width()<=c?d.largeWidth=b.width()*c:d.largeWidth=e.width,e.height/b.height()<=c?d.largeHeight=b.height()*c:d.largeHeight=e.height,d.startZoom(),d.currentImage=d.imageSrc,d.options.onZoomedImageLoaded(d.$elem)},d.setImageSource(e,a)},setImageSource:function(a,b){a.src=b},startZoom:function(){function c(){return"display: none;position: absolute;float: left;height: "+String(b.options.zoomWindowHeight)+"px;width: "+String(b.options.zoomWindowWidth)+"px;text-align: center;border: "+String(b.options.borderSize)+"px solid "+b.options.borderColour+";background-size: "+b.largeWidth/b.currentZoomLevel+"px "+b.largeHeight/b.currentZoomLevel+"px;background-position: 0px 0px;background-repeat: no-repeat;background-color: "+String(b.options.zoomWindowBgColour)+";overflow: hidden;z-index: 100;"}function d(){var a=b.$elem.css("border-left-width");return"display: none;position: absolute;float: left;height: "+String(b.nzHeight)+"px;width: "+String(b.nzWidth)+"px;margin-top: "+String(a)+";margin-left: "+String(a)+";border: "+String(b.options.borderSize)+"px solid "+b.options.borderColour+";background-position: 0px 0px;background-repeat: no-repeat;cursor:"+b.options.cursor+";overflow: hidden;zindex: "+b.options.zIndex+";"}function e(){return b.nzHeight<b.options.zoomWindowHeight/b.heightRatio?b.lensHeight=b.nzHeight:b.lensHeight=String(b.options.zoomWindowHeight/b.heightRatio),b.largeWidth<b.options.zoomWindowWidth?b.lensWidth=b.nzWidth:b.lensWidth=String(b.options.zoomWindowWidth/b.widthRatio),"display: none;position: absolute;float: right;height: "+b.lensHeight+"px;width: "+b.lensWidth+"px;border: "+b.options.lensBorderSize+"px solid "+b.options.lensBorderColour+";background-position: 0px 0px;background-repeat: no-repeat;background-color: "+b.options.lensColour+";opacity: "+b.options.lensOpacity+";filter: alpha(opacity = "+100*b.options.lensOpacity+");zoom: 1;cursor:"+b.options.cursor+";z-index: 999;overflow: hidden;"}function g(a){(b.lastX!==a.clientX||b.lastY!==a.clientY)&&(b.setPosition(a),b.currentLoc=a),b.lastX=a.clientX,b.lastY=a.clientY}var b=this;b.nzWidth=b.$elem.width(),b.nzHeight=b.$elem.height(),b.isWindowActive=!1,b.isLensActive=!1,b.isTintActive=!1,b.overWindow=!1,b.options.imageCrossfade&&(b.zoomWrap=b.$elem.wrap('<div style="height:'+b.nzHeight+"px;width:"+b.nzWidth+'px;" class="zoomWrapper" />'),b.$elem.css("position","absolute")),b.zoomLock=1,b.scrollingLock=!1,b.changeBgSize=!1,b.currentZoomLevel=b.options.zoomLevel,b.updateOffset(b),b.widthRatio=b.largeWidth/b.currentZoomLevel/b.nzWidth,b.heightRatio=b.largeHeight/b.currentZoomLevel/b.nzHeight,"window"===b.options.zoomType&&(b.zoomWindowStyle=c()),"inner"===b.options.zoomType&&(b.zoomWindowStyle=d()),"window"===b.options.zoomType&&(b.lensStyle=e()),b.tintStyle="display: block;position: absolute;height: "+b.nzHeight+"px;width: "+b.nzWidth+"px;background-color: "+b.options.tintColour+";filter: alpha(opacity=0);opacity: 0;",b.lensRound="","lens"===b.options.zoomType&&(b.lensStyle="display: none;position: absolute;float: left;height:"+String(b.options.lensSize)+"px;width:"+String(b.options.lensSize)+"px;border: "+String(b.options.borderSize)+"px solid "+b.options.borderColour+";background-position: 0px 0px;background-repeat: no-repeat;background-color: "+b.options.lensColour+";cursor:"+b.options.cursor+";"),"round"===b.options.lensShape&&(b.lensRound="border-radius: "+String(b.options.lensSize/2+b.options.borderSize)+"px;"),b.zoomContainer=a('<div class="zoomContainer" uuid="'+b.options.zoomId+'"style="position: absolute;top: '+b.nzOffset.top+"px;left: "+b.nzOffset.left+"px;height: "+b.nzHeight+"px;width: "+b.nzWidth+"px;z-index: "+b.options.zIndex+'"></div>'),b.$elem.attr("id")&&b.zoomContainer.attr("id",b.$elem.attr("id")+"-zoomContainer"),a(b.options.zoomContainerAppendTo).append(b.zoomContainer),b.options.containLensZoom&&"lens"===b.options.zoomType&&b.zoomContainer.css("overflow","hidden"),"inner"!==b.options.zoomType&&(b.zoomLens=a('<div class="zoomLens" style="'+b.lensStyle+b.lensRound+'">&nbsp;</div>').appendTo(b.zoomContainer).click(function(){b.$elem.trigger("click")}),b.options.tint&&(b.tintContainer=a("<div/>").addClass("tintContainer"),b.zoomTint=a('<div class="zoomTint" style="'+b.tintStyle+'"></div>'),b.zoomLens.wrap(b.tintContainer),b.zoomTintcss=b.zoomLens.after(b.zoomTint),b.zoomTintImage=a('<img style="position: absolute;top: 0px;left: 0px;height: '+b.nzHeight+'px;" width: '+b.nzWidth+'px; max-width: none; src="'+b.$elem.attr("src")+'">').appendTo(b.zoomLens).click(function(){b.$elem.trigger("click")})));var f=isNaN(b.options.zoomWindowPosition)?"body":b.zoomContainer;b.zoomWindow=a('<div style="z-index: 999;top: '+b.windowOffsetTop+"px;left: "+b.windowOffsetLeft+"px;"+b.zoomWindowStyle+'" class="zoomWindow">&nbsp;</div>').appendTo(f).click(function(){b.$elem.trigger("click")}),b.zoomWindowContainer=a("<div/>").addClass("zoomWindowContainer").css("width",b.options.zoomWindowWidth),b.zoomWindow.wrap(b.zoomWindowContainer),"lens"===b.options.zoomType&&b.zoomLens.css("background-image",'url("'+b.imageSrc+'")'),"window"===b.options.zoomType&&b.zoomWindow.css("background-image",'url("'+b.imageSrc+'")'),"inner"===b.options.zoomType&&b.zoomWindow.css("background-image",'url("'+b.imageSrc+'")'),b.options.touchEnabled&&(b.$elem.bind("touchmove.ezpspace",function(a){a.preventDefault();var c=a.originalEvent.touches[0]||a.originalEvent.changedTouches[0];b.setPosition(c)}),b.zoomContainer.bind("touchmove.ezpspace",function(a){b.setElements("show"),a.preventDefault();var c=a.originalEvent.touches[0]||a.originalEvent.changedTouches[0];b.setPosition(c)}),b.zoomContainer.bind("touchend.ezpspace",function(a){b.showHideWindow("hide"),b.options.showLens&&b.showHideLens("hide"),b.options.tint&&"inner"!==b.options.zoomType&&b.showHideTint("hide")}),b.$elem.bind("touchend.ezpspace",function(a){b.showHideWindow("hide"),b.options.showLens&&b.showHideLens("hide"),b.options.tint&&"inner"!==b.options.zoomType&&b.showHideTint("hide")}),b.options.showLens&&(b.zoomLens.bind("touchmove.ezpspace",function(a){a.preventDefault();var c=a.originalEvent.touches[0]||a.originalEvent.changedTouches[0];b.setPosition(c)}),b.zoomLens.bind("touchend.ezpspace",function(a){b.showHideWindow("hide"),b.options.showLens&&b.showHideLens("hide"),b.options.tint&&"inner"!==b.options.zoomType&&b.showHideTint("hide")}))),b.$elem.bind("mousemove.ezpspace",function(a){b.overWindow===!1&&b.setElements("show"),(b.lastX!==a.clientX||b.lastY!==a.clientY)&&(b.setPosition(a),b.currentLoc=a),b.lastX=a.clientX,b.lastY=a.clientY}),b.zoomContainer.bind("click.ezpspace touchstart.ezpspace",b.options.onImageClick),b.zoomContainer.bind("mousemove.ezpspace",function(a){b.overWindow===!1&&b.setElements("show"),g(a)});var h=null;"inner"!==b.options.zoomType&&(h=b.zoomLens),b.options.tint&&"inner"!==b.options.zoomType&&(h=b.zoomTint),"inner"===b.options.zoomType&&(h=b.zoomWindow),h&&h.bind("mousemove.ezpspace",g),b.zoomContainer.add(b.$elem).mouseenter(function(){b.overWindow===!1&&b.setElements("show")}).mouseleave(function(){b.scrollLock||(b.setElements("hide"),b.options.onDestroy(b.$elem))}),"inner"!==b.options.zoomType&&b.zoomWindow.mouseenter(function(){b.overWindow=!0,b.setElements("hide")}).mouseleave(function(){b.overWindow=!1}),b.options.minZoomLevel?b.minZoomLevel=b.options.minZoomLevel:b.minZoomLevel=2*b.options.scrollZoomIncrement,b.options.scrollZoom&&b.zoomContainer.add(b.$elem).bind("wheel DOMMouseScroll MozMousePixelScroll",function(c){b.scrollLock=!0,clearTimeout(a.data(this,"timer")),a.data(this,"timer",setTimeout(function(){b.scrollLock=!1},250));var d=c.originalEvent.deltaY||-1*c.originalEvent.detail;if(c.stopImmediatePropagation(),c.stopPropagation(),c.preventDefault(),0==d)return!1;if(d/120>0){var e=parseFloat(b.currentZoomLevel)-b.options.scrollZoomIncrement;e>=parseFloat(b.minZoomLevel)&&b.changeZoomLevel(e)}else if(!b.fullheight&&!b.fullwidth||!b.options.mantainZoomAspectRatio){var e=parseFloat(b.currentZoomLevel)+b.options.scrollZoomIncrement;b.options.maxZoomLevel?e<=b.options.maxZoomLevel&&b.changeZoomLevel(e):b.changeZoomLevel(e)}return!1})},destroy:function(){var b=this;b.$elem.unbind("ezpspace"),a(b.zoomContainer).remove(),b.options.loadingIcon&&b.spinner&&b.spinner.length&&(b.spinner.remove(),delete b.spinner)},getIdentifier:function(){var a=this;return a.options.zoomId},setElements:function(a){var b=this;return b.options.zoomEnabled?("show"===a&&b.isWindowSet&&("inner"===b.options.zoomType&&b.showHideWindow("show"),"window"===b.options.zoomType&&b.showHideWindow("show"),b.options.showLens&&b.showHideLens("show"),b.options.tint&&"inner"!==b.options.zoomType&&b.showHideTint("show")),void("hide"===a&&("window"===b.options.zoomType&&b.showHideWindow("hide"),b.options.tint||b.showHideWindow("hide"),b.options.showLens&&b.showHideLens("hide"),b.options.tint&&b.showHideTint("hide")))):!1},setPosition:function(a){var b=this;if(!b.options.zoomEnabled)return!1;if(b.nzHeight=b.$elem.height(),b.nzWidth=b.$elem.width(),b.updateOffset(b),b.options.tint&&"inner"!==b.options.zoomType&&b.zoomTint.css({top:0,left:0}),b.options.responsive&&!b.options.scrollZoom&&b.options.showLens){b.nzHeight<b.options.zoomWindowWidth/b.widthRatio?b.lensHeight=b.nzHeight:b.lensHeight=String(b.options.zoomWindowHeight/b.heightRatio),b.largeWidth<b.options.zoomWindowWidth?b.lensWidth=b.nzWidth:b.lensWidth=b.options.zoomWindowWidth/b.widthRatio,b.widthRatio=b.largeWidth/b.nzWidth,b.heightRatio=b.largeHeight/b.nzHeight,"lens"!==b.options.zoomType&&(b.nzHeight<b.options.zoomWindowWidth/b.widthRatio?b.lensHeight=b.nzHeight:b.lensHeight=String(b.options.zoomWindowHeight/b.heightRatio),b.nzWidth<b.options.zoomWindowHeight/b.heightRatio?b.lensWidth=b.nzWidth:b.lensWidth=String(b.options.zoomWindowWidth/b.widthRatio),b.zoomLens.css({width:b.lensWidth,height:b.lensHeight}),b.options.tint&&b.zoomTintImage.css({width:b.nzWidth,height:b.nzHeight})),"lens"===b.options.zoomType&&b.zoomLens.css({width:String(b.options.lensSize)+"px",height:String(b.options.lensSize)+"px"})}if(b.zoomContainer.css({top:b.nzOffset.top,left:b.nzOffset.left,width:b.nzWidth,height:b.nzHeight}),b.mouseLeft=parseInt(a.pageX-b.nzOffset.left),b.mouseTop=parseInt(a.pageY-b.nzOffset.top),"window"===b.options.zoomType){var e=b.zoomLens.height()/2,f=b.zoomLens.width()/2;b.Etoppos=b.mouseTop<0+e,b.Eboppos=b.mouseTop>b.nzHeight-e-2*b.options.lensBorderSize,b.Eloppos=b.mouseLeft<0+f,b.Eroppos=b.mouseLeft>b.nzWidth-f-2*b.options.lensBorderSize}return"inner"===b.options.zoomType&&(b.Etoppos=b.mouseTop<b.nzHeight/2/b.heightRatio,b.Eboppos=b.mouseTop>b.nzHeight-b.nzHeight/2/b.heightRatio,b.Eloppos=b.mouseLeft<0+b.nzWidth/2/b.widthRatio,b.Eroppos=b.mouseLeft>b.nzWidth-b.nzWidth/2/b.widthRatio-2*b.options.lensBorderSize),b.mouseLeft<0||b.mouseTop<0||b.mouseLeft>b.nzWidth||b.mouseTop>b.nzHeight?void b.setElements("hide"):(b.options.showLens&&(b.lensLeftPos=String(Math.floor(b.mouseLeft-b.zoomLens.width()/2)),b.lensTopPos=String(Math.floor(b.mouseTop-b.zoomLens.height()/2))),b.Etoppos&&(b.lensTopPos=0),b.Eloppos&&(b.windowLeftPos=0,b.lensLeftPos=0,b.tintpos=0),"window"===b.options.zoomType&&(b.Eboppos&&(b.lensTopPos=Math.max(b.nzHeight-b.zoomLens.height()-2*b.options.lensBorderSize,0)),b.Eroppos&&(b.lensLeftPos=b.nzWidth-b.zoomLens.width()-2*b.options.lensBorderSize)),"inner"===b.options.zoomType&&(b.Eboppos&&(b.lensTopPos=Math.max(b.nzHeight-2*b.options.lensBorderSize,0)),b.Eroppos&&(b.lensLeftPos=b.nzWidth-b.nzWidth-2*b.options.lensBorderSize)),"lens"===b.options.zoomType&&(b.windowLeftPos=String(-1*((a.pageX-b.nzOffset.left)*b.widthRatio-b.zoomLens.width()/2)),b.windowTopPos=String(-1*((a.pageY-b.nzOffset.top)*b.heightRatio-b.zoomLens.height()/2)),b.zoomLens.css("background-position",b.windowLeftPos+"px "+b.windowTopPos+"px"),b.changeBgSize&&(b.nzHeight>b.nzWidth?("lens"===b.options.zoomType&&b.zoomLens.css("background-size",b.largeWidth/b.newvalueheight+"px "+b.largeHeight/b.newvalueheight+"px"),b.zoomWindow.css("background-size",b.largeWidth/b.newvalueheight+"px "+b.largeHeight/b.newvalueheight+"px")):("lens"===b.options.zoomType&&b.zoomLens.css("background-size",b.largeWidth/b.newvaluewidth+"px "+b.largeHeight/b.newvaluewidth+"px"),b.zoomWindow.css("background-size",b.largeWidth/b.newvaluewidth+"px "+b.largeHeight/b.newvaluewidth+"px")),b.changeBgSize=!1),b.setWindowPosition(a)),b.options.tint&&"inner"!==b.options.zoomType&&b.setTintPosition(a),"window"===b.options.zoomType&&b.setWindowPosition(a),"inner"===b.options.zoomType&&b.setWindowPosition(a),b.options.showLens&&(b.fullwidth&&"lens"!==b.options.zoomType&&(b.lensLeftPos=0),b.zoomLens.css({left:b.lensLeftPos+"px",top:b.lensTopPos+"px"})),void 0)},showHideZoomContainer:function(a){var b=this;"show"===a&&b.zoomContainer&&b.zoomContainer.show(),"hide"===a&&b.zoomContainer&&b.zoomContainer.hide()},showHideWindow:function(a){var b=this;"show"===a&&!b.isWindowActive&&b.zoomWindow&&(b.options.onShow(b),b.options.zoomWindowFadeIn?b.zoomWindow.stop(!0,!0,!1).fadeIn(b.options.zoomWindowFadeIn):b.zoomWindow.show(),b.isWindowActive=!0),"hide"===a&&b.isWindowActive&&(b.options.zoomWindowFadeOut?b.zoomWindow.stop(!0,!0).fadeOut(b.options.zoomWindowFadeOut,function(){b.loop&&(clearInterval(b.loop),b.loop=!1)}):b.zoomWindow.hide(),b.isWindowActive=!1)},showHideLens:function(a){var b=this;"show"===a&&(b.isLensActive||(b.zoomLens&&(b.options.lensFadeIn?b.zoomLens.stop(!0,!0,!1).fadeIn(b.options.lensFadeIn):b.zoomLens.show()),b.isLensActive=!0)),"hide"===a&&b.isLensActive&&(b.zoomLens&&(b.options.lensFadeOut?b.zoomLens.stop(!0,!0).fadeOut(b.options.lensFadeOut):b.zoomLens.hide()),b.isLensActive=!1)},showHideTint:function(a){var b=this;"show"===a&&!b.isTintActive&&b.zoomTint&&(b.options.zoomTintFadeIn?b.zoomTint.css("opacity",b.options.tintOpacity).animate().stop(!0,!0).fadeIn("slow"):(b.zoomTint.css("opacity",b.options.tintOpacity).animate(),b.zoomTint.show()),b.isTintActive=!0),"hide"===a&&b.isTintActive&&(b.options.zoomTintFadeOut?b.zoomTint.stop(!0,!0).fadeOut(b.options.zoomTintFadeOut):b.zoomTint.hide(),b.isTintActive=!1)},setLensPosition:function(a){},setWindowPosition:function(b){var c=this;if(isNaN(c.options.zoomWindowPosition))c.externalContainer=a(c.options.zoomWindowPosition),c.externalContainer.length||(c.externalContainer=a("#"+c.options.zoomWindowPosition)),c.externalContainerWidth=c.externalContainer.width(),c.externalContainerHeight=c.externalContainer.height(),c.externalContainerOffset=c.externalContainer.offset(),c.windowOffsetTop=c.externalContainerOffset.top,c.windowOffsetLeft=c.externalContainerOffset.left;else switch(c.options.zoomWindowPosition){case 1:c.windowOffsetTop=c.options.zoomWindowOffsetY,c.windowOffsetLeft=+c.nzWidth;break;case 2:c.options.zoomWindowHeight>c.nzHeight?(c.windowOffsetTop=-1*(c.options.zoomWindowHeight/2-c.nzHeight/2),c.windowOffsetLeft=c.nzWidth):a.noop();break;case 3:c.windowOffsetTop=c.nzHeight-c.zoomWindow.height()-2*c.options.borderSize,c.windowOffsetLeft=c.nzWidth;break;case 4:c.windowOffsetTop=c.nzHeight,c.windowOffsetLeft=c.nzWidth;break;case 5:c.windowOffsetTop=c.nzHeight,c.windowOffsetLeft=c.nzWidth-c.zoomWindow.width()-2*c.options.borderSize;break;case 6:c.options.zoomWindowHeight>c.nzHeight?(c.windowOffsetTop=c.nzHeight,c.windowOffsetLeft=-1*(c.options.zoomWindowWidth/2-c.nzWidth/2+2*c.options.borderSize)):a.noop();break;case 7:c.windowOffsetTop=c.nzHeight,c.windowOffsetLeft=0;break;case 8:c.windowOffsetTop=c.nzHeight,c.windowOffsetLeft=-1*(c.zoomWindow.width()+2*c.options.borderSize);break;case 9:c.windowOffsetTop=c.nzHeight-c.zoomWindow.height()-2*c.options.borderSize,c.windowOffsetLeft=-1*(c.zoomWindow.width()+2*c.options.borderSize);break;case 10:c.options.zoomWindowHeight>c.nzHeight?(c.windowOffsetTop=-1*(c.options.zoomWindowHeight/2-c.nzHeight/2),c.windowOffsetLeft=-1*(c.zoomWindow.width()+2*c.options.borderSize)):a.noop();break;case 11:c.windowOffsetTop=c.options.zoomWindowOffsetY,c.windowOffsetLeft=-1*(c.zoomWindow.width()+2*c.options.borderSize);break;case 12:c.windowOffsetTop=-1*(c.zoomWindow.height()+2*c.options.borderSize),c.windowOffsetLeft=-1*(c.zoomWindow.width()+2*c.options.borderSize);break;case 13:c.windowOffsetTop=-1*(c.zoomWindow.height()+2*c.options.borderSize),c.windowOffsetLeft=0;break;case 14:c.options.zoomWindowHeight>c.nzHeight?(c.windowOffsetTop=-1*(c.zoomWindow.height()+2*c.options.borderSize),c.windowOffsetLeft=-1*(c.options.zoomWindowWidth/2-c.nzWidth/2+2*c.options.borderSize)):a.noop();break;case 15:c.windowOffsetTop=-1*(c.zoomWindow.height()+2*c.options.borderSize),c.windowOffsetLeft=c.nzWidth-c.zoomWindow.width()-2*c.options.borderSize;break;case 16:c.windowOffsetTop=-1*(c.zoomWindow.height()+2*c.options.borderSize),c.windowOffsetLeft=c.nzWidth;break;default:c.windowOffsetTop=c.options.zoomWindowOffsetY,c.windowOffsetLeft=c.nzWidth}if(c.isWindowSet=!0,c.windowOffsetTop=c.windowOffsetTop+c.options.zoomWindowOffsetY,c.windowOffsetLeft=c.windowOffsetLeft+c.options.zoomWindowOffsetX,c.zoomWindow.css({top:c.windowOffsetTop,left:c.windowOffsetLeft}),"inner"===c.options.zoomType&&c.zoomWindow.css({top:0,left:0}),c.windowLeftPos=String(-1*((b.pageX-c.nzOffset.left)*c.widthRatio-c.zoomWindow.width()/2)),c.windowTopPos=String(-1*((b.pageY-c.nzOffset.top)*c.heightRatio-c.zoomWindow.height()/2)),c.Etoppos&&(c.windowTopPos=0),c.Eloppos&&(c.windowLeftPos=0),c.Eboppos&&(c.windowTopPos=-1*(c.largeHeight/c.currentZoomLevel-c.zoomWindow.height())),c.Eroppos&&(c.windowLeftPos=-1*(c.largeWidth/c.currentZoomLevel-c.zoomWindow.width())),c.fullheight&&(c.windowTopPos=0),c.fullwidth&&(c.windowLeftPos=0),"window"===c.options.zoomType||"inner"===c.options.zoomType)if(1===c.zoomLock&&(c.widthRatio<=1&&(c.windowLeftPos=0),c.heightRatio<=1&&(c.windowTopPos=0)),"window"===c.options.zoomType&&(c.largeHeight<c.options.zoomWindowHeight&&(c.windowTopPos=0),c.largeWidth<c.options.zoomWindowWidth&&(c.windowLeftPos=0)),c.options.easing){c.xp||(c.xp=0),c.yp||(c.yp=0);var d=16;Number.isInteger(parseInt(c.options.easing))&&(d=parseInt(c.options.easing)),c.loop||(c.loop=setInterval(function(){c.xp+=(c.windowLeftPos-c.xp)/c.options.easingAmount,c.yp+=(c.windowTopPos-c.yp)/c.options.easingAmount,c.scrollingLock?(clearInterval(c.loop),c.xp=c.windowLeftPos,c.yp=c.windowTopPos,c.xp=-1*((b.pageX-c.nzOffset.left)*c.widthRatio-c.zoomWindow.width()/2),c.yp=-1*((b.pageY-c.nzOffset.top)*c.heightRatio-c.zoomWindow.height()/2),c.changeBgSize&&(c.nzHeight>c.nzWidth?("lens"===c.options.zoomType&&c.zoomLens.css("background-size",c.largeWidth/c.newvalueheight+"px "+c.largeHeight/c.newvalueheight+"px"),c.zoomWindow.css("background-size",c.largeWidth/c.newvalueheight+"px "+c.largeHeight/c.newvalueheight+"px")):("lens"!==c.options.zoomType&&c.zoomLens.css("background-size",c.largeWidth/c.newvaluewidth+"px "+c.largeHeight/c.newvalueheight+"px"),c.zoomWindow.css("background-size",c.largeWidth/c.newvaluewidth+"px "+c.largeHeight/c.newvaluewidth+"px")),c.changeBgSize=!1),c.zoomWindow.css("background-position",c.windowLeftPos+"px "+c.windowTopPos+"px"),c.scrollingLock=!1,c.loop=!1):Math.round(Math.abs(c.xp-c.windowLeftPos)+Math.abs(c.yp-c.windowTopPos))<1?(clearInterval(c.loop),c.zoomWindow.css("background-position",c.windowLeftPos+"px "+c.windowTopPos+"px"),c.loop=!1):(c.changeBgSize&&(c.nzHeight>c.nzWidth?("lens"===c.options.zoomType&&c.zoomLens.css("background-size",c.largeWidth/c.newvalueheight+"px "+c.largeHeight/c.newvalueheight+"px"),c.zoomWindow.css("background-size",c.largeWidth/c.newvalueheight+"px "+c.largeHeight/c.newvalueheight+"px")):("lens"!==c.options.zoomType&&c.zoomLens.css("background-size",c.largeWidth/c.newvaluewidth+"px "+c.largeHeight/c.newvaluewidth+"px"),c.zoomWindow.css("background-size",c.largeWidth/c.newvaluewidth+"px "+c.largeHeight/c.newvaluewidth+"px")),c.changeBgSize=!1),c.zoomWindow.css("background-position",c.xp+"px "+c.yp+"px"))},d))}else c.changeBgSize&&(c.nzHeight>c.nzWidth?("lens"===c.options.zoomType&&c.zoomLens.css("background-size",c.largeWidth/c.newvalueheight+"px "+c.largeHeight/c.newvalueheight+"px"),c.zoomWindow.css("background-size",c.largeWidth/c.newvalueheight+"px "+c.largeHeight/c.newvalueheight+"px")):("lens"===c.options.zoomType&&c.zoomLens.css("background-size",c.largeWidth/c.newvaluewidth+"px "+c.largeHeight/c.newvaluewidth+"px"),c.largeHeight/c.newvaluewidth<c.options.zoomWindowHeight?c.zoomWindow.css("background-size",c.largeWidth/c.newvaluewidth+"px "+c.largeHeight/c.newvaluewidth+"px"):c.zoomWindow.css("background-size",c.largeWidth/c.newvalueheight+"px "+c.largeHeight/c.newvalueheight+"px")),c.changeBgSize=!1),c.zoomWindow.css("background-position",c.windowLeftPos+"px "+c.windowTopPos+"px")},setTintPosition:function(a){var b=this,c=b.zoomLens.width(),d=b.zoomLens.height();b.updateOffset(b),b.tintpos=String(-1*(a.pageX-b.nzOffset.left-c/2)),b.tintposy=String(-1*(a.pageY-b.nzOffset.top-d/2)),b.Etoppos&&(b.tintposy=0),b.Eloppos&&(b.tintpos=0),b.Eboppos&&(b.tintposy=-1*(b.nzHeight-d-2*b.options.lensBorderSize)),b.Eroppos&&(b.tintpos=-1*(b.nzWidth-c-2*b.options.lensBorderSize)),b.options.tint&&(b.fullheight&&(b.tintposy=0),b.fullwidth&&(b.tintpos=0),b.zoomTintImage.css({left:b.tintpos+"px",top:b.tintposy+"px"}))},swaptheimage:function(b,c){var d=this,e=new Image;if(d.options.loadingIcon&&!d.spinner){var f="background: url('"+d.options.loadingIcon+"') no-repeat center;height:"+d.nzHeight+"px;width:"+d.nzWidth+"px;z-index: 2000;position: absolute; background-position: center center;";"inner"===d.options.zoomType&&(f+="top: 0px;"),d.spinner=a('<div class="ezp-spinner" style="'+f+'"></div>'),d.$elem.after(d.spinner)}else d.spinner&&d.spinner.show();d.options.onImageSwap(d.$elem),e.onload=function(){d.largeWidth=e.width,d.largeHeight=e.height,d.zoomImage=c,d.zoomWindow.css("background-size",d.largeWidth+"px "+d.largeHeight+"px"),d.swapAction(b,c)},d.setImageSource(e,c)},swapAction:function(b,c){var d=this,e=d.$elem.width(),f=d.$elem.height(),g=new Image;if(g.onload=function(){d.nzHeight=g.height,d.nzWidth=g.width,d.options.onImageSwapComplete(d.$elem),d.doneCallback()},d.setImageSource(g,b),d.currentZoomLevel=d.options.zoomLevel,d.options.maxZoomLevel=!1,"lens"===d.options.zoomType&&d.zoomLens.css("background-image",'url("'+c+'")'),"window"===d.options.zoomType&&d.zoomWindow.css("background-image",'url("'+c+'")'),"inner"===d.options.zoomType&&d.zoomWindow.css("background-image",'url("'+c+'")'),d.currentImage=c,d.options.imageCrossfade){var h=d.$elem,i=h.clone();if(d.$elem.attr("src",b),d.$elem.after(i),i.stop(!0).fadeOut(d.options.imageCrossfade,function(){a(this).remove()}),d.$elem.width("auto").removeAttr("width"),d.$elem.height("auto").removeAttr("height"),h.fadeIn(d.options.imageCrossfade),d.options.tint&&"inner"!==d.options.zoomType){var j=d.zoomTintImage,k=j.clone();d.zoomTintImage.attr("src",c),d.zoomTintImage.after(k),k.stop(!0).fadeOut(d.options.imageCrossfade,function(){a(this).remove()}),j.fadeIn(d.options.imageCrossfade),d.zoomTint.css({height:f,width:e})}d.zoomContainer.css({height:f,width:e}),"inner"===d.options.zoomType&&(d.options.constrainType||(d.zoomWrap.parent().css({height:f,width:e}),d.zoomWindow.css({height:f,width:e}))),d.options.imageCrossfade&&d.zoomWrap.css({height:f,width:e})}else d.$elem.attr("src",b),d.options.tint&&(d.zoomTintImage.attr("src",c),d.zoomTintImage.attr("height",f),d.zoomTintImage.css("height",f),d.zoomTint.css("height",f)),d.zoomContainer.css({height:f,width:e}),d.options.imageCrossfade&&d.zoomWrap.css({height:f,width:e});if(d.options.constrainType){if("height"===d.options.constrainType){var l={height:d.options.constrainSize,width:"auto"};d.zoomContainer.css(l),d.options.imageCrossfade?(d.zoomWrap.css(l),d.constwidth=d.zoomWrap.width()):(d.$elem.css(l),d.constwidth=e);var m={height:d.options.constrainSize,width:d.constwidth};"inner"===d.options.zoomType&&(d.zoomWrap.parent().css(m),d.zoomWindow.css(m)),d.options.tint&&(d.tintContainer.css(m),d.zoomTint.css(m),d.zoomTintImage.css(m))}if("width"===d.options.constrainType){var n={height:"auto",width:d.options.constrainSize};d.zoomContainer.css(n),d.options.imageCrossfade?(d.zoomWrap.css(n),d.constheight=d.zoomWrap.height()):(d.$elem.css(n),d.constheight=f);var o={height:d.constheight,width:d.options.constrainSize};"inner"===d.options.zoomType&&(d.zoomWrap.parent().css(o),d.zoomWindow.css(o)),d.options.tint&&(d.tintContainer.css(o),d.zoomTint.css(o),d.zoomTintImage.css(o))}}},doneCallback:function(){var a=this;a.options.loadingIcon&&a.spinner&&a.spinner.length&&a.spinner.hide(),a.updateOffset(a),a.nzWidth=a.$elem.width(),a.nzHeight=a.$elem.height(),a.currentZoomLevel=a.options.zoomLevel,a.widthRatio=a.largeWidth/a.nzWidth,a.heightRatio=a.largeHeight/a.nzHeight,"window"===a.options.zoomType&&(a.nzHeight<a.options.zoomWindowHeight/a.heightRatio?a.lensHeight=a.nzHeight:a.lensHeight=String(a.options.zoomWindowHeight/a.heightRatio),a.nzWidth<a.options.zoomWindowWidth?a.lensWidth=a.nzWidth:a.lensWidth=a.options.zoomWindowWidth/a.widthRatio,a.zoomLens&&a.zoomLens.css({width:a.lensWidth,height:a.lensHeight}))},getCurrentImage:function(){var a=this;return a.zoomImage},getGalleryList:function(){var b=this;return b.gallerylist=[],b.options.gallery?a("#"+b.options.gallery+" a").each(function(){var c="";a(this).data(b.options.attrImageZoomSrc)?c=a(this).data(b.options.attrImageZoomSrc):a(this).data("image")&&(c=a(this).data("image")),c===b.zoomImage?b.gallerylist.unshift({href:""+c,title:a(this).find("img").attr("title")}):b.gallerylist.push({href:""+c,title:a(this).find("img").attr("title")})}):b.gallerylist.push({href:""+b.zoomImage,title:a(this).find("img").attr("title")}),b.gallerylist},changeZoomLevel:function(a){var b=this;b.scrollingLock=!0,b.newvalue=parseFloat(a).toFixed(2);var c=b.newvalue,d=b.largeHeight/(b.options.zoomWindowHeight/b.nzHeight*b.nzHeight),e=b.largeWidth/(b.options.zoomWindowWidth/b.nzWidth*b.nzWidth);"inner"!==b.options.zoomType&&(c>=d?(b.heightRatio=b.largeHeight/d/b.nzHeight,b.newvalueheight=d,b.fullheight=!0):(b.heightRatio=b.largeHeight/c/b.nzHeight,b.newvalueheight=c,b.fullheight=!1),c>=e?(b.widthRatio=b.largeWidth/e/b.nzWidth,b.newvaluewidth=e,b.fullwidth=!0):(b.widthRatio=b.largeWidth/c/b.nzWidth,b.newvaluewidth=c,b.fullwidth=!1),"lens"===b.options.zoomType&&(c>=d?(b.fullwidth=!0,b.newvaluewidth=d):(b.widthRatio=b.largeWidth/c/b.nzWidth,b.newvaluewidth=c,b.fullwidth=!1))),"inner"===b.options.zoomType&&(d=parseFloat(b.largeHeight/b.nzHeight).toFixed(2),e=parseFloat(b.largeWidth/b.nzWidth).toFixed(2),c>d&&(c=d),c>e&&(c=e),c>=d?(b.heightRatio=b.largeHeight/c/b.nzHeight,c>d?b.newvalueheight=d:b.newvalueheight=c,b.fullheight=!0):(b.heightRatio=b.largeHeight/c/b.nzHeight,c>d?b.newvalueheight=d:b.newvalueheight=c,b.fullheight=!1),c>=e?(b.widthRatio=b.largeWidth/c/b.nzWidth,c>e?b.newvaluewidth=e:b.newvaluewidth=c,b.fullwidth=!0):(b.widthRatio=b.largeWidth/c/b.nzWidth,b.newvaluewidth=c,b.fullwidth=!1));var f=!1;"inner"===b.options.zoomType&&(b.nzWidth>=b.nzHeight&&(b.newvaluewidth<=e?f=!0:(f=!1,b.fullheight=!0,b.fullwidth=!0)),b.nzHeight>b.nzWidth&&(b.newvaluewidth<=e?f=!0:(f=!1,b.fullheight=!0,b.fullwidth=!0))),"inner"!==b.options.zoomType&&(f=!0),f&&(b.zoomLock=0,b.changeZoom=!0,b.options.zoomWindowHeight/b.heightRatio<=b.nzHeight&&(b.currentZoomLevel=b.newvalueheight,"lens"!==b.options.zoomType&&"inner"!==b.options.zoomType&&(b.changeBgSize=!0,b.zoomLens.css("height",String(b.options.zoomWindowHeight/b.heightRatio)+"px")),("lens"===b.options.zoomType||"inner"===b.options.zoomType)&&(b.changeBgSize=!0)),b.options.zoomWindowWidth/b.widthRatio<=b.nzWidth&&("inner"!==b.options.zoomType&&b.newvaluewidth>b.newvalueheight&&(b.currentZoomLevel=b.newvaluewidth),"lens"!==b.options.zoomType&&"inner"!==b.options.zoomType&&(b.changeBgSize=!0,b.zoomLens.css("width",String(b.options.zoomWindowWidth/b.widthRatio)+"px")),("lens"===b.options.zoomType||"inner"===b.options.zoomType)&&(b.changeBgSize=!0)),"inner"===b.options.zoomType&&(b.changeBgSize=!0,b.nzWidth>b.nzHeight?b.currentZoomLevel=b.newvaluewidth:b.nzHeight>=b.nzWidth&&(b.currentZoomLevel=b.newvaluewidth))),b.setPosition(b.currentLoc)},closeAll:function(){var a=this;a.zoomWindow&&a.zoomWindow.hide(),a.zoomLens&&a.zoomLens.hide(),a.zoomTint&&a.zoomTint.hide()},updateOffset:function(b){"body"!=b.options.zoomContainerAppendTo?(b.nzOffset=b.$elem.offset(),appendedPosition=a(b.options.zoomContainerAppendTo).offset(),b.nzOffset.top=b.$elem.offset().top-appendedPosition.top,b.nzOffset.left=b.$elem.offset().left-appendedPosition.left):b.nzOffset=b.$elem.offset()},changeState:function(a){var b=this;"enable"===a&&(b.options.zoomEnabled=!0),"disable"===a&&(b.options.zoomEnabled=!1)},responsiveConfig:function(b){return b.respond&&b.respond.length>0?a.extend({},b,this.configByScreenWidth(b)):b},configByScreenWidth:function(c){var d=a(b).width(),e=a.grep(c.respond,function(a){var b=a.range.split("-");return d>=b[0]&&d<=b[1]});return e.length>0?e[0]:c}};a.fn.ezPlus=function(b){return this.each(function(){var c=Object.create(e);c.init(b,this),a.data(this,"ezPlus",c)})},a.fn.ezPlus.options={attrImageZoomSrc:"zoom-image",borderColour:"#888",borderSize:4,constrainSize:!1,constrainType:!1,containLensZoom:!1,cursor:"inherit",debug:!1,easing:!1,easingAmount:12,enabled:!0,gallery:!1,galleryActiveClass:"zoomGalleryActive",gallerySelector:!1,galleryItem:"a",imageCrossfade:!1,lensBorderColour:"#000",lensBorderSize:1,lensColour:"white",lensFadeIn:!1,lensFadeOut:!1,lensOpacity:.4,lensShape:"square",lensSize:200,lenszoom:!1,loadingIcon:!1,mantainZoomAspectRatio:!1,maxZoomLevel:!1,minZoomLevel:1.01,onComplete:a.noop,onDestroy:a.noop,onImageClick:a.noop,onImageSwap:a.noop,onImageSwapComplete:a.noop,onShow:a.noop,onZoomedImageLoaded:a.noop,preloading:1,respond:[],responsive:!0,scrollZoom:!1,scrollZoomIncrement:.1,showLens:!0,tint:!1,tintColour:"#333",tintOpacity:.4,touchEnabled:!0,zoomActivation:"hover",zoomContainerAppendTo:"body",zoomId:-1,zoomLevel:1,zoomTintFadeIn:!1,zoomTintFadeOut:!1,zoomType:"window",zoomWindowAlwaysShow:!1,zoomWindowBgColour:"#fff",zoomWindowFadeIn:!1,zoomWindowFadeOut:!1,zoomWindowHeight:400,zoomWindowOffsetX:0,zoomWindowOffsetY:0,zoomWindowPosition:1,zoomWindowWidth:400,zoomEnabled:!0,zIndex:999}}(jQuery,window,document);